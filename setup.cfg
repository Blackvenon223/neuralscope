[flake8]
max-line-length = 100
max-local-variables = 8
max-methods = 15
max-module-members = 20
max-imports = 16
max-imported-names = 60
max-cognitive-score = 16
max-cognitive-average = 12
max-line-complexity = 20
max-jones-score = 20
max-try-body-length = 3
max-returns = 8
max-string-usages = 5
max-function-expressions = 10

per-file-ignores =
    src/neuralscope/__init__.py: WPS412, WPS410
    src/neuralscope/cli/app.py: WPS110, WPS204, WPS210, WPS202
    src/neuralscope/sdk/client.py: WPS110, WPS202, WPS214, WPS210, WPS201, WPS221, WPS226
    src/neuralscope/core/settings.py: WPS110, WPS226
    src/neuralscope/mcp/server.py: WPS226
    src/neuralscope/features/dependency_graph/data/datasource/ast_parser/implementation.py: WPS210, WPS231
    src/neuralscope/features/dependency_graph/data/repository/impact_analyzer.py: WPS231
    src/neuralscope/features/health_dashboard/data/datasource/complexity_analyzer/implementation.py: WPS210, WPS231
    src/neuralscope/features/vulnerability_scan/data/repository/scanner.py: WPS231
    tests/*.py: WPS110, WPS111, WPS226, WPS432, S101

extend-ignore =
    # line length handled by formatter
    E501,
    # whitespace before ':' (conflicts with black/ruff)
    E203,
    # blank line expectations (handled by ruff)
    E301, E302,
    # @staticmethod is fine
    WPS602,
    # short variable names (i, f, s, e, etc.) are idiomatic Python
    WPS111,
    # f-string complexity is fine
    WPS237,
    # mutable module constants (SEVERITY_MAP, etc.) are fine
    WPS407,
    # complex default values (field(default_factory=list)) are fine
    WPS404,
    # magic numbers in dataclass defaults and tests are fine
    WPS432,
    # float zero comparisons in dataclass defaults are fine
    WPS358,
    # comparison with float — needed for confidence scores
    WPS459,
    # nested functions — needed for AST walkers
    WPS430,
    # implicit .get() is a style preference, not a bug
    WPS529,
    # useless continue at end of loop — style preference
    WPS327,
    # wrong metadata variable __version__ — standard Python convention
    WPS410,
    # __init__.py with logic — we use it for re-exports
    WPS412,
    # overused expressions — repeated patterns are expected in SDK
    WPS204,
    # unpythonic getter/setter — our Result pattern uses get_* methods
    WPS615,
    # await in for loop — needed for sequential file scanning
    WPS476,
    # class method order — style preference
    WPS338,
    # Found wrong variable name (value, result, data) — standard names
    WPS110,
    # reserved first argument name (cls in @staticmethod) — false positive
    WPS117,
    # too long try body — our try blocks are clean
    WPS229

exclude =
    .git,
    __pycache__,
    .venv,
    venv,
    dist,
    build,
    *.egg-info,
    .eggs,
    .mypy_cache,
    .ruff_cache
